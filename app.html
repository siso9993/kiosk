<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="UTF-8" />
    <title>EZ-WASH Aplik치cia</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />

    <!-- Lottie (pre .json anim치cie) -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- Hlavn칳 CSS s칰bor -->
    <link rel="stylesheet" href="css/kiosk.css" />

    <!-- Dodato캜n칠 코t칳ly -->
    <style>
      .service-icons {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        margin-right: 10px;
      }
      .service-text {
        display: inline-flex;
        align-items: center;
      }
      .important-text {
        color: red;
        font-weight: bold;
      }
      .smaller-text {
        font-size: 0.9em;
        color: #666;
      }
      /* Z치kladn칠 코t칳ly pre tla캜idl치 */
      button {
        margin: 10px 0;
        padding: 10px 20px;
        font-size: 1em;
        cursor: pointer;
      }
      input {
        padding: 10px;
        font-size: 1em;
        margin: 5px 0;
        width: 100%;
      }
      .footer-links {
        text-align: center;
        margin-top: 20px;
      }
      .footer-links a {
        margin: 0 5px;
        text-decoration: none;
        color: #007bff;
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <!-- Hlavn칳 kontajner aplik치cie -->
    <div class="kiosk-container" id="kioskContainer">
      <!-- Prep칤na캜 jazyka (v pravom hornom rohu) -->
      <div class="language-switcher">
        <span class="lang-option" onclick="setLanguage('sk')">游젏릖</span>
        <span class="lang-option" onclick="setLanguage('en')">游섫릖</span>
      </div>

      <!-- 컇AV칗 PANEL -->
      <div class="left-panel">
        <!-- Kontajner pre obrazovky -->
        <div id="screensContainer">
          <!-- Domovsk치 obrazovka so v코etk칳mi anim치ciami -->
          <div id="home-screen" class="screen active">
            <h1>Vitajte v EZ-WASH</h1>
            <div class="lottie-container">
              <lottie-player
                id="homeLottiePlayer"
                src="assets/lottie/home-animation.json"
                background="transparent"
                speed="0.6"
                style="width: 100%; height: 100%;"
                autoplay
              ></lottie-player>
            </div>
            <p>Pre kvalitn칰 starostlivos콘 o va코e pr치dlo vyu쬴te na코e slu쬭y.</p>
          </div>

          <!-- Obrazovka pre registr치ciu/prihl치senie (ak pou쮂셨ate nie je prihl치sen칳) -->
          <div id="authScreen" class="screen">
            <h1>Registr치cia / Prihl치senie</h1>
            <button onclick="navigateTo('registrationScreen')">
              <i class="fa-solid fa-user-plus btn-icon"></i>
              <span>Registr치cia</span>
            </button>
            <button onclick="navigateTo('loginScreen')">
              <i class="fa-solid fa-sign-in btn-icon"></i>
              <span>Prihl치senie</span>
            </button>
          </div>

          <!-- Registr치cia -->
          <div id="registrationScreen" class="screen">
            <h1>Registr치cia</h1>
            <p>Zadajte va코e telef칩nne 캜칤slo:</p>
            <input
              type="tel"
              id="registerPhoneInput"
              placeholder="0900 000 000"
              onclick="openKeyboardForInput('registerPhoneInput')"
            />
            <button onclick="sendSMSCodeForRegistration()">
              <i class="fa-solid fa-sms btn-icon"></i>
              <span>Odosla콘 SMS k칩d</span>
            </button>
          </div>

          <!-- Prihl치senie -->
          <div id="loginScreen" class="screen">
            <h1>Prihl치senie</h1>
            <p>Zadajte svoje prihlasovacie 칰daje:</p>
            <input
              type="text"
              id="loginUsername"
              placeholder="Pou쮂셨ate쬽k칠 meno"
              onclick="openKeyboardForInput('loginUsername')"
            />
            <input
              type="password"
              id="loginPassword"
              placeholder="Heslo"
              onclick="openKeyboardForInput('loginPassword')"
            />
            <button onclick="loginUser()">
              <i class="fa-solid fa-sign-in btn-icon"></i>
              <span>Prihl치si콘 sa</span>
            </button>
          </div>

          <!-- Overenie SMS k칩du (pre registr치ciu) -->
          <div id="smsVerificationScreen" class="screen">
            <h1>Overenie SMS</h1>
            <p>Zadajte overovac칤 k칩d, ktor칳 ste obdr쬬li:</p>
            <input
              type="text"
              id="smsCodeInput"
              placeholder="0000"
              onclick="openKeyboardForInput('smsCodeInput')"
            />
            <button onclick="verifySMSCode()">
              <i class="fa-solid fa-check-circle btn-icon"></i>
              <span>Overi콘 k칩d</span>
            </button>
          </div>

          <!-- Hlavn칠 menu (po 칰spe코nej registr치cii/prihl치sen칤) -->
          <div id="mainMenuScreen" class="screen">
            <h1>Hlavn칠 menu</h1>
            <button onclick="navigateTo('newOrderScreen')">
              <i class="fa-solid fa-plus-circle btn-icon"></i>
              <span>Nov치 objedn치vka</span>
            </button>
            <button onclick="navigateTo('orderHistoryScreen')">
              <i class="fa-solid fa-history btn-icon"></i>
              <span>Hist칩ria objedn치vok</span>
            </button>
            <button onclick="navigateTo('ongoingOrdersScreen')">
              <i class="fa-solid fa-spinner btn-icon"></i>
              <span>Prebiehaj칰ce objedn치vky</span>
            </button>
            <button onclick="navigateTo('mapScreen')">
              <i class="fa-solid fa-map btn-icon"></i>
              <span>Mapa</span>
            </button>
          </div>

          <!-- Nov치 objedn치vka -->
          <div id="newOrderScreen" class="screen">
            <h1>Nov치 objedn치vka</h1>
            <div class="lottie-container">
              <lottie-player
                src="assets/lottie/order-animation.json"
                background="transparent"
                speed="1"
                style="width: 100%; height: 100%;"
                autoplay
              ></lottie-player>
            </div>
            <p>Vyberte si slu쬭u:</p>
            <button onclick="selectService('Pranie + Su코enie + Zlo쬰nie')">
              <span class="service-text">Pranie + Su코enie + Zlo쬰nie</span>
            </button>
            <button onclick="selectService('Pranie + Su코enie + 콯ehlenie + Zlo쬰nie')">
              <span class="service-text">Pranie + Su코enie + 콯ehlenie + Zlo쬰nie</span>
            </button>
            <button onclick="generateOrderCode()">
              <i class="fa-solid fa-check btn-icon"></i>
              <span>Dokon캜i콘 objedn치vku</span>
            </button>
          </div>

          <!-- Hist칩ria objedn치vok -->
          <div id="orderHistoryScreen" class="screen">
            <h1>Hist칩ria objedn치vok</h1>
            <p>Zoznam va코ich objedn치vok:</p>
            <div id="orderHistoryList">
              <!-- Dynamicky generovan칳 zoznam objedn치vok -->
            </div>
            <button onclick="navigateHome()">
              <i class="fa-solid fa-house btn-icon"></i>
              <span>Domov</span>
            </button>
          </div>

          <!-- Prebiehaj칰ce objedn치vky -->
          <div id="ongoingOrdersScreen" class="screen">
            <h1>Prebiehaj칰ce objedn치vky</h1>
            <p>Zoznam objedn치vok, ktor칠 s칰 moment치lne spracov치van칠:</p>
            <div id="ongoingOrdersList">
              <!-- Dynamicky generovan칳 zoznam prebiehaj칰cich objedn치vok -->
            </div>
            <button onclick="navigateHome()">
              <i class="fa-solid fa-house btn-icon"></i>
              <span>Domov</span>
            </button>
          </div>

          <!-- Mapa -->
          <div id="mapScreen" class="screen">
            <h1>Mapa</h1>
            <p>Zobrazuj칰 sa najbli쮄멸e lockerboxy:</p>
            <div id="mapPlaceholder" style="text-align: center;">
              <lottie-player
                src="assets/lottie/map-animation.json"
                background="transparent"
                speed="1"
                style="width: 300px; height: 300px;"
                autoplay
              ></lottie-player>
            </div>
            <button onclick="navigateHome()">
              <i class="fa-solid fa-house btn-icon"></i>
              <span>Domov</span>
            </button>
          </div>

          <!-- Obchodn칠 podmienky -->
          <div id="termsScreen" class="screen">
            <h1>Obchodn칠 podmienky</h1>
            <p>Tu budu Obchodn칠 podmienky!</p>
          </div>

          <!-- GDPR -->
          <div id="gdprScreen" class="screen">
            <h1>GDPR</h1>
            <p>Tu budu GDPR!</p>
          </div>

          <!-- Cenn칤k -->
          <div id="pricingScreen" class="screen">
            <h1>Cenn칤k</h1>
            <p>Tu budu Cenn칤k!</p>
          </div>
        </div>
        <!-- P칛ti캜ka s odkazmi -->
        <div class="footer-links">
          <a href="#" onclick="navigateTo('termsScreen'); showRightPanel('returnHomeScreen')">Obchodn칠 podmienky</a> |
          <a href="#" onclick="navigateTo('gdprScreen'); showRightPanel('returnHomeScreen')">GDPR</a> |
          <a href="#" onclick="navigateTo('pricingScreen'); showRightPanel('returnHomeScreen')">Cenn칤k</a>
        </div>
      </div>

      <!-- PRAV칗 PANEL -->
      <div class="right-panel">
        <!-- Ak pou쮂셨ate nie je prihl치sen칳, zobraz칤 sa tento panel -->
        <div id="unauthenticatedScreen" class="screen active">
          <h1>Prihl치senie / Registr치cia</h1>
          <button onclick="navigateTo('registrationScreen')">
            <i class="fa-solid fa-user-plus btn-icon"></i>
            <span>Registr치cia</span>
          </button>
          <button onclick="navigateTo('loginScreen')">
            <i class="fa-solid fa-sign-in btn-icon"></i>
            <span>Prihl치senie</span>
          </button>
        </div>
        <!-- Ak je pou쮂셨ate prihl치sen칳, zobraz칤 sa tento panel s telef칩nnym 캜칤slom -->
        <div id="authenticatedScreen" class="screen">
          <h1>Vitajte</h1>
          <p id="userPhoneDisplay">Telef칩n: 0900 000 000</p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            <span>Domov</span>
          </button>
        </div>
        <!-- Pr칤padne m칪쬰te pou쬴콘 aj spolo캜n칰 navig치ciu -->
        <div id="returnHomeScreen" class="screen">
          <h1 style="font-size: 20px; text-align: center;">Navig치cia</h1>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            <span>Domov</span>
          </button>
        </div>
      </div>
    </div>

    <!-- MOD츼LNA SPR츼VA -->
    <div id="messageModal" class="modal">
      <div class="modal-content">
        <p id="modalMessage"></p>
        <button onclick="closeModalMessage()">OK</button>
      </div>
    </div>

    <!-- KL츼VESNICA -->
    <div id="keyboardContainer">
      <div id="keyboard" style="display:none;"></div>
    </div>

    <!-- JS SCRIPTS -->
    <script src="js/translations.js"></script>
    <script src="js/kiosk-keyboard.js"></script>
    <script src="js/kiosk.js"></script>
  </body>
</html>
