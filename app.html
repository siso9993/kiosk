<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="UTF-8" />
    <title>EZ-WASH Aplik치cia</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />

    <!-- Lottie (pre .json anim치cie) -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- Hlavn칳 CSS s칰bor -->
    <link rel="stylesheet" href="css/kiosk.css" />

    <!-- Dodato캜n칠 코t칳ly -->
    <style>
      /* Reset & base */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Roboto", sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background: #f9f9f9;
      }

      /* Container pre aplik치ciu */
      .app-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      /* Horn치 li코ta s prep칤na캜om jazyka a pr칤padn칳m logom */
      .top-bar {
        background: #007bff;
        color: #fff;
        padding: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .language-switcher {
        display: inline-flex;
        gap: 15px;
        font-size: 1.2rem;
        cursor: pointer;
      }
      .language-switcher .lang-option:hover {
        opacity: 0.8;
      }
      .app-title {
        font-size: 1.3rem;
        font-weight: bold;
      }

      /* Hlavn칳 obsah aplik치cie (jednotliv칠 obrazovky) */
      .main-content {
        flex: 1;
        position: relative;
        overflow-y: auto;
        padding: 20px;
      }

      /* Skryt칠 obrazovky */
      .screen {
        display: none;
      }
      .screen.active {
        display: block;
      }
      .screen h1 {
        margin-bottom: 1rem;
      }

      /* Centr치lne zarovnanie pre domovsk칰 obrazovku */
      #home-screen {
        text-align: center;
      }
      .lottie-container {
        margin: 0 auto 1rem auto;
        max-width: 300px;
      }

      /* Be쬹칠 tla캜idl치 */
      button {
        margin: 10px 0;
        padding: 10px 20px;
        font-size: 1rem;
        cursor: pointer;
        border: none;
        border-radius: 4px;
        background: #007bff;
        color: #fff;
      }
      button:hover {
        background: #0056cc;
      }
      input {
        display: block;
        padding: 10px;
        font-size: 1rem;
        margin: 5px 0;
        width: 100%;
        max-width: 300px;
      }

      /* Odkazy v p칛ti캜ke (pod textom) */
      .footer-links {
        text-align: center;
        margin-top: 20px;
      }
      .footer-links a {
        margin: 0 5px;
        text-decoration: none;
        color: #007bff;
        font-size: 0.9rem;
      }
      .footer-links a:hover {
        text-decoration: underline;
      }

      /* MOD츼LNA SPR츼VA */
      .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
        align-items: center;
        justify-content: center;
      }
      .modal-content {
        background: #fff;
        padding: 20px;
        text-align: center;
        border-radius: 8px;
        width: 300px;
      }

      /* KL츼VESNICA */
      #keyboardContainer {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
      }
      #keyboard {
        display: none;
        background: #e8e8e8;
        padding: 10px;
      }

      /* Spodn치 naviga캜n치 li코ta (zobrazuje sa po prihl치sen칤) */
      .bottom-nav {
        display: none; /* Skryt칠, k칳m nie je prihl치sen칳 pou쮂셨ate */
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #fff;
        border-top: 1px solid #ddd;
        box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
        height: 60px;
        display: flex;
        justify-content: space-around;
        align-items: center;
      }
      .bottom-nav button {
        background: none;
        border: none;
        color: #555;
        font-size: 0.9rem;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .bottom-nav button i {
        font-size: 1.2rem;
      }
      .bottom-nav button.active {
        color: #007bff;
      }

      /* Minimal styling for demonstration */
      .centered {
        text-align: center;
      }
    </style>
  </head>

  <body>
    <!-- APLIKA캛N칗 KONTAJNER -->
    <div class="app-container">
      <!-- Horn치 li코ta s n치zvom a prep칤na캜om jazyka -->
      <div class="top-bar">
        <div class="app-title">EZ-WASH</div>
        <div class="language-switcher">
          <span class="lang-option" onclick="setLanguage('sk')">游젏릖</span>
          <span class="lang-option" onclick="setLanguage('en')">游섫릖</span>
        </div>
      </div>

      <!-- HLAVN칗 OBSAH (obrazovky) -->
      <div class="main-content" id="screensContainer">
        <!-- Domovsk치 obrazovka -->
        <div id="home-screen" class="screen active">
          <h1>Vitajte v EZ-WASH</h1>
          <div class="lottie-container">
            <lottie-player
              id="homeLottiePlayer"
              src="assets/lottie/home-animation.json"
              background="transparent"
              speed="0.6"
              style="width: 100%; height: 200px;"
              autoplay
            ></lottie-player>
          </div>
          <p>Pre kvalitn칰 starostlivos콘 o va코e pr치dlo vyu쬴te na코e slu쬭y.</p>
          <div class="footer-links">
            <a href="#" onclick="navigateTo('termsScreen')">Obchodn칠 podmienky</a> |
            <a href="#" onclick="navigateTo('gdprScreen')">GDPR</a> |
            <a href="#" onclick="navigateTo('pricingScreen')">Cenn칤k</a>
          </div>

          <!-- Ak pou쮂셨ate NIE je prihl치sen칳, zobraz칤me tla캜idl치 Prihl치senie/Registr치cia -->
          <div class="centered" id="home-unauthenticated">
            <button onclick="navigateTo('registrationScreen')">
              <i class="fa-solid fa-user-plus btn-icon"></i>
              Registr치cia
            </button>
            <button onclick="navigateTo('loginScreen')">
              <i class="fa-solid fa-sign-in btn-icon"></i>
              Prihl치senie
            </button>
          </div>

          <!-- Ak je pou쮂셨ate PRIHL츼SEN칗, zobraz칤me r칳chly pr칤stup do menu -->
          <div class="centered" id="home-authenticated" style="display: none;">
            <button onclick="navigateTo('newOrderScreen')">
              <i class="fa-solid fa-plus-circle btn-icon"></i>
              Nov치 objedn치vka
            </button>
            <button onclick="navigateTo('mainMenuScreen')">
              <i class="fa-solid fa-bars btn-icon"></i>
              Hlavn칠 menu
            </button>
          </div>
        </div>

        <!-- Registr치cia -->
        <div id="registrationScreen" class="screen">
          <h1>Registr치cia</h1>
          <p>Zadajte va코e telef칩nne 캜칤slo:</p>
          <input
            type="tel"
            id="registerPhoneInput"
            placeholder="0900 000 000"
            onclick="openKeyboardForInput('registerPhoneInput')"
          />
          <button onclick="sendSMSCodeForRegistration()">
            <i class="fa-solid fa-sms btn-icon"></i>
            Odosla콘 SMS k칩d
          </button>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>

        <!-- Prihl치senie -->
        <div id="loginScreen" class="screen">
          <h1>Prihl치senie</h1>
          <p>Zadajte svoje prihlasovacie 칰daje:</p>
          <input
            type="text"
            id="loginUsername"
            placeholder="Pou쮂셨ate쬽k칠 meno"
            onclick="openKeyboardForInput('loginUsername')"
          />
          <input
            type="password"
            id="loginPassword"
            placeholder="Heslo"
            onclick="openKeyboardForInput('loginPassword')"
          />
          <button onclick="loginUser()">
            <i class="fa-solid fa-sign-in btn-icon"></i>
            Prihl치si콘 sa
          </button>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>

        <!-- Overenie SMS k칩du (pre registr치ciu) -->
        <div id="smsVerificationScreen" class="screen">
          <h1>Overenie SMS</h1>
          <p>Zadajte overovac칤 k칩d, ktor칳 ste obdr쬬li:</p>
          <input
            type="text"
            id="smsCodeInput"
            placeholder="0000"
            onclick="openKeyboardForInput('smsCodeInput')"
          />
          <button onclick="verifySMSCode()">
            <i class="fa-solid fa-check-circle btn-icon"></i>
            Overi콘 k칩d
          </button>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>

        <!-- Hlavn칠 menu (po prihl치sen칤) -->
        <div id="mainMenuScreen" class="screen">
          <h1>Hlavn칠 menu</h1>
          <button onclick="navigateTo('newOrderScreen')">
            <i class="fa-solid fa-plus-circle btn-icon"></i>
            Nov치 objedn치vka
          </button>
          <button onclick="navigateTo('orderHistoryScreen')">
            <i class="fa-solid fa-history btn-icon"></i>
            Hist칩ria objedn치vok
          </button>
          <button onclick="navigateTo('ongoingOrdersScreen')">
            <i class="fa-solid fa-spinner btn-icon"></i>
            Prebiehaj칰ce objedn치vky
          </button>
          <button onclick="navigateTo('mapScreen')">
            <i class="fa-solid fa-map btn-icon"></i>
            Mapa
          </button>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- Nov치 objedn치vka -->
        <div id="newOrderScreen" class="screen">
          <h1>Nov치 objedn치vka</h1>
          <div class="lottie-container">
            <lottie-player
              src="assets/lottie/order-animation.json"
              background="transparent"
              speed="1"
              style="width: 100%; height: 200px;"
              autoplay
            ></lottie-player>
          </div>
          <p>Vyberte si slu쬭u:</p>
          <button onclick="selectService('Pranie + Su코enie + Zlo쬰nie')">
            Pranie + Su코enie + Zlo쬰nie
          </button>
          <button onclick="selectService('Pranie + Su코enie + 콯ehlenie + Zlo쬰nie')">
            Pranie + Su코enie + 콯ehlenie + Zlo쬰nie
          </button>
          <button onclick="generateOrderCode()">
            <i class="fa-solid fa-check btn-icon"></i>
            Dokon캜i콘 objedn치vku
          </button>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>

        <!-- Hist칩ria objedn치vok -->
        <div id="orderHistoryScreen" class="screen">
          <h1>Hist칩ria objedn치vok</h1>
          <p>Zoznam va코ich objedn치vok:</p>
          <div id="orderHistoryList">
            <!-- Dynamicky generovan칳 zoznam -->
          </div>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- Prebiehaj칰ce objedn치vky -->
        <div id="ongoingOrdersScreen" class="screen">
          <h1>Prebiehaj칰ce objedn치vky</h1>
          <p>Moment치lne spracov치van칠 objedn치vky:</p>
          <div id="ongoingOrdersList">
            <!-- Dynamicky generovan칳 zoznam -->
          </div>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- Mapa -->
        <div id="mapScreen" class="screen">
          <h1>Mapa</h1>
          <p>Najbli쮄멸e lockerboxy:</p>
          <div style="text-align: center;">
            <lottie-player
              src="assets/lottie/map-animation.json"
              background="transparent"
              speed="1"
              style="width: 300px; height: 300px;"
              autoplay
            ></lottie-player>
          </div>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- Obchodn칠 podmienky -->
        <div id="termsScreen" class="screen">
          <h1>Obchodn칠 podmienky</h1>
          <p>Tu bud칰 Obchodn칠 podmienky...</p>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>

        <!-- GDPR -->
        <div id="gdprScreen" class="screen">
          <h1>GDPR</h1>
          <p>Tu bud칰 GDPR...</p>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>

        <!-- Cenn칤k -->
        <div id="pricingScreen" class="screen">
          <h1>Cenn칤k</h1>
          <p>Tu bude Cenn칤k...</p>
          <button onclick="navigateHome()">Sp칛콘</button>
        </div>
      </div>
    </div>

    <!-- SPODN츼 NAVIG츼CIA (Zobrazuje sa A콯 PO prihl치sen칤) -->
    <div class="bottom-nav" id="bottomNav">
      <button id="navHomeBtn" onclick="navigateTo('home-screen')">
        <i class="fa-solid fa-house"></i>
        <span>Domov</span>
      </button>
      <button id="navNewOrderBtn" onclick="navigateTo('newOrderScreen')">
        <i class="fa-solid fa-plus-circle"></i>
        <span>Nov치</span>
      </button>
      <button id="navHistoryBtn" onclick="navigateTo('orderHistoryScreen')">
        <i class="fa-solid fa-history"></i>
        <span>Hist칩ria</span>
      </button>
      <button id="navOngoingBtn" onclick="navigateTo('ongoingOrdersScreen')">
        <i class="fa-solid fa-spinner"></i>
        <span>Prebieha</span>
      </button>
      <button id="navMapBtn" onclick="navigateTo('mapScreen')">
        <i class="fa-solid fa-map"></i>
        <span>Mapa</span>
      </button>
    </div>

    <!-- MOD츼LNA SPR츼VA -->
    <div id="messageModal" class="modal">
      <div class="modal-content">
        <p id="modalMessage"></p>
        <button onclick="closeModalMessage()">OK</button>
      </div>
    </div>

    <!-- KL츼VESNICA -->
    <div id="keyboardContainer">
      <div id="keyboard" style="display:none;"></div>
    </div>

    <!-- JS SCRIPTS -->
    <!-- Preklady (pr칤klad) -->
    <script>
      window.translations = {
        sk: {
          invalidPhone: "Pros칤m, zadajte platn칠 telef칩nne 캜칤slo!",
          smsSent: "SMS k칩d odoslan칳 na ",
          phoneVerified: "Telef칩n overen칳!",
          invalidCode: "Neplatn칳 k칩d!",
          serviceSelected: "Zvolen치 slu쬭a: ",
          measuredWeight: "Zmeran치 v치ha: ",
          scanning: "Skenuje sa...",
          cardPayment: "Prebieha platba kartou...",
          contactlessPayment: "Prebieha bezkontaktn치 platba...",
          invalidEmail: "Zadajte platn칳 e-mail!",
          invoiceSent: "Fakt칰ra odoslan치 na ",
          adminLoginSuccess: "Prihl치senie do admin rozhrania 칰spe코n칠.",
          adminLoginFail: "Nespr치vne 칰daje!",
          lockerSelected: "Vybran치 skrinka 캜. ",
          lockerSelectedSuffix: " pre objedn치vku ",
          lockersCompleted: "Skrinky boli rozdelen칠!",
          enterQRCode: "Zadajte QR k칩d!",
          readyForNextOrder: "Skrinka pripraven치 pre 캞al코iu objedn치vku!",
          restockingCompleted: "Dop컄켿anie dokon캜en칠!"
        },
        en: {
          invalidPhone: "Please enter a valid phone number!",
          smsSent: "SMS code sent to ",
          phoneVerified: "Phone verified!",
          invalidCode: "Invalid code!",
          serviceSelected: "Selected service: ",
          measuredWeight: "Measured weight: ",
          scanning: "Scanning...",
          cardPayment: "Processing card payment...",
          contactlessPayment: "Processing contactless payment...",
          invalidEmail: "Please enter a valid email!",
          invoiceSent: "Invoice sent to ",
          adminLoginSuccess: "Admin login successful.",
          adminLoginFail: "Incorrect admin credentials!",
          lockerSelected: "Locker chosen: ",
          lockerSelectedSuffix: " for order ",
          lockersCompleted: "All lockers have been assigned!",
          enterQRCode: "Please enter a QR code!",
          readyForNextOrder: "Locker ready for the next order!",
          restockingCompleted: "Restocking completed!"
        }
      };
    </script>

    <!-- Hlavn칳 JS (kiosk-app.js) -->
    <script src="js/kiosk-app.js"></script>
  </body>
</html>
