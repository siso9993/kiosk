<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <title>KIOSK UI Prototype ‚Äì Modern√© rozhranie s Lottie anim√°ciami</title>
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap"
    rel="stylesheet"
  />
  <!-- Font Awesome (CDN) -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-9nu6Sdz9EUK9AIcs62hP01geIKUloK+ZqYMn1tzfN2cSr4+zI/sinFjkX5NYvCksIf21zoAY21vt7K9gRILUgA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <!-- Lottie (na prehr√°vanie .json anim√°ci√≠) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <style>
    /* BODY: top padding so kiosk isn't too close to the top */
    body {
      margin: 0;
      background-color: #222;
      font-family: 'Roboto', sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start; /* align kiosk to top, not center */
      padding-top: 40px;       /* add space from top of browser window */
    }

    /* KIOSK CONTAINER */
    .kiosk-container {
      position: relative; /* for modal/keyboard absolute positioning inside kiosk */
      width: 720px;
      height: 900px;
      background: linear-gradient(135deg, #f7f9fc, #e3e7f0);
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
      border-radius: 12px;
      display: flex;
      flex-direction: row;
      overflow: hidden;
    }

    /* PANELS */
    .left-panel,
    .right-panel {
      padding: 20px;
      overflow-y: auto;
      position: relative;
    }
    .left-panel {
      width: 70%;
      background-color: #fff;
      border-right: 1px solid #ccc;
      display: flex;
      flex-direction: column;
    }
    .right-panel {
      width: 30%;
      background-color: #f5f7fa;
      position: relative; /* so the language switcher can be absolute */
    }

    /* LANGUAGE SWITCHER (top-right in the right panel) */
    .language-switcher {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 20px;
      z-index: 10;
    }
    .lang-option {
      font-size: 32px; /* bigger icons */
      cursor: pointer;
      user-select: none;
      padding: 5px; /* more padding */
    }

    /* FOOTER */
    .footer {
      position: absolute;
      bottom: 30px; /* push it up from bottom a bit */
      width: 100%;
      text-align: center;
      font-size: 14px;
      color: #555;
    }
    .footer a {
      color: #007bff;
      text-decoration: none;
      margin: 0 5px;
    }
    .footer a:hover {
      text-decoration: underline;
    }

    /* BASIC TEXT */
    h1 {
      font-size: 24px;
      margin: 15px 0;
      color: #333;
    }
    p,
    label,
    li {
      font-size: 16px;
      line-height: 1.5;
      margin: 10px 0;
      color: #555;
    }

    /* INPUTS */
    input[type='text'],
    input[type='tel'],
    input[type='email'] {
      width: 100%;
      padding: 12px;
      margin: 8px 0 20px 0;
      font-size: 16px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer; /* indicate it's clickable on kiosk */
    }

    /* BUTTONS */
    button {
      width: 100%;
      padding: 12px 16px;
      margin: 8px 0;
      font-size: 16px;
      background: linear-gradient(135deg, #007bff, #0056b3);
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    button:hover {
      background: linear-gradient(135deg, #0056b3, #003f7f);
      transform: translateY(-2px);
    }
    .btn-icon {
      font-size: 18px;
    }

    /* PRICE TAG for services */
    .price-tag {
      color: #d9534f;
      font-weight: bold;
      margin-left: 10px;
      font-size: 1.1em;
    }

    /* QR CODE BOX */
    .qr-code {
      width: 140px;
      height: 140px;
      background-color: #ddd;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #555;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    /* SCREEN TRANSITIONS (LEFT PANEL) */
    .screen {
      display: none;
      opacity: 0;
      transform: translateY(20px);
    }
    .active {
      display: block;
      animation: fadeInUp 0.5s forwards;
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .blink {
      animation: blinkAnimation 1s infinite;
    }
    @keyframes blinkAnimation {
      0% {
        opacity: 1;
      }
      50% {
        opacity: 0.2;
      }
      100% {
        opacity: 1;
      }
    }

    /* LOTTIE PLAYER CONTAINERS */
    .lottie-container {
      width: 250px;
      height: 250px;
      margin: 0 auto 10px auto;
      text-align: center;
    }
    .lottie-sm {
      width: 150px;
      height: 150px;
    }

    /* HOME SCREEN ANIMATION TOOLTIP */
    .animation-description {
      text-align: center;
      font-size: 14px;
      color: #333;
      margin-top: 8px;
      font-weight: 500;
    }

    /* MESSAGE MODAL (replaces browser alerts) */
    .modal {
      position: absolute; /* inside kiosk-container */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none; /* hidden by default */
      align-items: center;
      justify-content: center;
      z-index: 9999; /* on top of everything */
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      width: 80%;
      max-width: 500px;
      margin: 0 auto;
    }
    .modal-content p {
      margin-bottom: 20px;
      font-size: 18px;
      color: #333;
    }

    /* ON-SCREEN KEYBOARD */
    .keyboard {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #e0e0e0;
      display: none; /* hidden by default */
      z-index: 9999;
      padding: 10px;
    }
    .keyboard-row {
      display: flex;
      justify-content: center;
      margin-bottom: 5px;
    }
    .keyboard-row button {
      margin: 0 3px;
      padding: 10px 12px;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      background: #ccc;
      cursor: pointer;
      transition: background 0.2s;
    }
    .keyboard-row button:hover {
      background: #bbb;
    }

    /* LOGO IN THE RIGHT PANEL (bottom) */
    .right-panel-logo {
      margin-top: 20px;
      text-align: center;
    }
    .right-panel-logo img {
      width: 80px; /* adjust as needed */
    }
  </style>
</head>

<body>
  <div class="kiosk-container" id="kioskContainer">
    <!-- LEFT PANEL (screens) -->
    <div class="left-panel">
      <div id="screensContainer">
        <!-- HOME SCREEN -->
        <div id="home-screen" class="screen active">
          <h1>Vitajte v KIOSK</h1>
          <div class="lottie-container">
            <lottie-player
              id="homeLottiePlayer"
              background="transparent"
              speed="1"
              style="width: 100%; height: 100%;"
              autoplay
            ></lottie-player>
          </div>
          <!-- Here is the label for the rotating icons -->
          <p id="homeAnimationTooltip" class="animation-description"></p>

          <p>
            Na≈°a slu≈æba zabezpeƒç√≠ r√Ωchle a spoƒæahliv√© pranie, su≈°enie, ≈æehlenie a
            zlo≈æenie v√°≈°ho pr√°dla. Odovzdajte pr√°dlo do n√°≈°ho lockerboxu a my sa
            postar√°me o zvy≈°ok.
          </p>

          <button onclick="navigateTo('newOrderScreen')">
            <i class="fa-solid fa-plus-circle btn-icon"></i>
            Nov√° objedn√°vka bez aplik√°cie
          </button>
          <button onclick="navigateTo('scanOrderScreen')">
            <i class="fa-solid fa-qrcode btn-icon"></i>
            Zada≈•/naskenova≈• objedn√°vkov√Ω k√≥d
          </button>
          <button onclick="navigateTo('registerScreen')">
            <i class="fa-solid fa-user-plus btn-icon"></i>
            Registrova≈• sa ‚Äì 50% zƒæava na prv√∫ objedn√°vku
          </button>
        </div>

        <!-- NOV√Å OBJEDN√ÅVKA -->
        <div id="newOrderScreen" class="screen">
          <h1>Nov√° objedn√°vka</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/zadavanie-kodu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte svoje telef√≥nne ƒç√≠slo. SMS k√≥d pou≈æijeme na notifik√°cie o stave
            objedn√°vky.
          </p>
          <label>Telef√≥nne ƒç√≠slo:</label>
          <input
            type="tel"
            id="phoneInput"
            placeholder="0900 000 000"
            onclick="openKeyboardForInput('phoneInput')"
          />
          <button onclick="sendSMSCode()">
            <i class="fa-solid fa-sms btn-icon"></i>
            Odosla≈• SMS k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- OVERENIE SMS K√ìDU -->
        <div id="smsVerificationScreen" class="screen">
          <h1>Overenie telef√≥nu</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/overenie-telefonu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte 4-miestny k√≥d, ktor√Ω ste obdr≈æali v SMS.<br />
            <em>(K√≥d je v≈ædy: 0000)</em>
          </p>
          <label>SMS k√≥d:</label>
          <input
            type="text"
            id="smsCodeInput"
            placeholder="0000"
            onclick="openKeyboardForInput('smsCodeInput')"
          />
          <button onclick="verifySMSCode()">
            <i class="fa-solid fa-check-circle btn-icon"></i>
            Overi≈• k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- V√ùBER SLU≈ΩBY -->
        <div id="serviceSelectionScreen" class="screen">
          <h1>V√Ωber slu≈æby</h1>
          <p>Vyberte slu≈æbu, ktor√∫ si ≈æel√°te:</p>

          <!-- Pranie + Su≈°enie + Zlo≈æenie (2,99 ‚Ç¨/kg) -->
          <button onclick="selectService('Pranie + Su≈°enie + Zlo≈æenie')">
            <i class="fa-solid fa-tshirt btn-icon"></i>
            <div>
              Pranie + Su≈°enie + Zlo≈æenie
              <span class="price-tag">2,99 ‚Ç¨/kg</span>
            </div>
          </button>

          <!-- Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie (4,5 ‚Ç¨/kg) -->
          <button onclick="selectService('Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie')">
            <i class="fa-solid fa-iron btn-icon"></i>
            <div>
              Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie
              <span class="price-tag">4,5 ‚Ç¨/kg</span>
            </div>
          </button>

          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- MERANIE HMOTNOSTI -->
        <div id="weightMeasurementScreen" class="screen">
          <h1>Meranie hmotnosti</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/vaha.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Postup:</p>
          <ul>
            <li>Vysu≈àte z√°suvku s tray v√°hou v locker boxe.</li>
            <li>Umiestnite pr√°dlo na v√°hu.</li>
            <li>
              Syst√©m automaticky zmeria hmotnos≈• a odo≈°le √∫daje do admin syst√©mu.
            </li>
          </ul>
          <div id="scaleGraphic" style="font-size: 32px; text-align: center;">
            ‚öñÔ∏è
          </div>
          <div
            class="progress-container"
            style="
              background: #ccc;
              border-radius: 4px;
              overflow: hidden;
              height: 10px;
              margin: 10px 0;
            "
          >
            <div
              class="progress-bar"
              id="weightProgress"
              style="height: 100%; width: 0%; background: #007bff;"
            ></div>
          </div>
          <button onclick="simulateWeightMeasurement()">
            <i class="fa-solid fa-weight-scale btn-icon"></i>
            Spusti≈• meranie
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- UZAMKNUTIE OBJEDN√ÅVKY -->
        <div id="orderLockScreen" class="screen">
          <h1>Uzamknutie objedn√°vky</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/vlozeniie-do-skrinky.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Pr√°dlo bolo vlo≈æen√© do spr√°vnej skrinky.<br />
            Syst√©m teraz uzamkne objedn√°vku a generuje jedineƒçn√Ω objedn√°vkov√Ω k√≥d
            a QR k√≥d.
          </p>
          <div id="generatingCode" class="blink">
            <p>Generujem k√≥d...</p>
          </div>
          <button onclick="generateOrderCode()">
            <i class="fa-solid fa-lock btn-icon"></i>
            Dokonƒçi≈• objedn√°vku
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- OBJEDN√ÅVKA PRIPRAVEN√Å -->
        <div id="orderReadyScreen" class="screen">
          <h1>Objedn√°vka pripraven√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/objednavka-kompletna.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            <strong>V√°≈° objedn√°vkov√Ω k√≥d:</strong>
            <span id="orderCodeDisplay"></span>
          </p>
          <p>
            <strong>QR k√≥d:</strong>
            <span id="qrCodeDisplay"></span>
          </p>
          <p>
            Objedn√°vka bola spracovan√°.<br />
            Pou≈æite tento k√≥d alebo naskenujte QR k√≥d pri vyzdvihnut√≠.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- REGISTR√ÅCIA -->
        <div id="registerScreen" class="screen">
          <h1>Registr√°cia a 50% zƒæava</h1>

          <!-- THREE QR CODES: Apple, Android, Website -->
          <div style="display: flex; justify-content: space-evenly; flex-wrap: wrap; gap: 20px;">
            <!-- Apple -->
            <div style="text-align: center;">
              <div
                class="qr-code"
                style="background: url('assets/qr-apple.png') center/cover no-repeat;"
              >
                <span style="color:#777; font-size:12px;">Apple QR</span>
              </div>
              <p style="margin-top:8px;">
                <img src="assets/logo.png" alt="EASY-WASH" style="width:60px;" /><br />
                EASY-WASH (Apple)
              </p>
            </div>

            <!-- Android -->
            <div style="text-align: center;">
              <div
                class="qr-code"
                style="background: url('assets/qr-android.png') center/cover no-repeat;"
              >
                <span style="color:#777; font-size:12px;">Android QR</span>
              </div>
              <p style="margin-top:8px;">
                <img src="assets/logo.png" alt="EASY-WASH" style="width:60px;" /><br />
                EASY-WASH (Android)
              </p>
            </div>

            <!-- Website -->
            <div style="text-align: center;">
              <div
                class="qr-code"
                style="background: url('assets/qr-web.png') center/cover no-repeat;"
              >
                <span style="color:#777; font-size:12px;">Web QR</span>
              </div>
              <p style="margin-top:8px;">
                <img src="assets/logo.png" alt="EASY-WASH" style="width:60px;" /><br />
                www.easy-wash.sk
              </p>
            </div>
          </div>

          <!-- Buttons -->
          <button onclick="navigateTo('appRegisteredScreen')">
            <i class="fa-solid fa-check btn-icon"></i>
            U≈æ m√°m aplik√°ciu / som registrovan√Ω
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>

          <!-- Additional animation below the two buttons -->
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/registracia.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
        </div>

        <!-- REGISTR√ÅCIA ‚Äì POTVRDENIE -->
        <div id="appRegisteredScreen" class="screen">
          <h1>Registr√°cia √∫spe≈°n√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/registrovany.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Va≈°e telef√≥nne ƒç√≠slo bolo overen√©.<br />
            Teraz si objedn√°vku m√¥≈æete zada≈• cez na≈°u aplik√°ciu alebo web.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- ZADANIE/NASKENOVANIE OBJEDN√ÅVKOV√âHO K√ìDU -->
        <div id="scanOrderScreen" class="screen">
          <h1>Zada≈•/naskenova≈• objedn√°vkov√Ω k√≥d</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/zadavanie-kodu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte k√≥d, ktor√Ω ste obdr≈æali z aplik√°cie alebo webu.<br />
            Pr√≠padne pou≈æite funkciu simul√°cie naskenovania QR k√≥du.
          </p>
          <label>Objedn√°vkov√Ω k√≥d:</label>
          <input
            type="text"
            id="orderCodeInput"
            placeholder="Zadajte k√≥d"
            onclick="openKeyboardForInput('orderCodeInput')"
          />
          <button onclick="simulateQRScan()">
            <i class="fa-solid fa-camera btn-icon"></i>
            Simulova≈• naskenovanie
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- VYZDVIHNUTIE OBJEDN√ÅVKY (PLATBA) -->
        <div id="orderPickupPaymentScreen" class="screen">
          <h1>Vyzdvihnutie objedn√°vky</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/objednavka-kompletna.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Zadajte alebo naskenujte objedn√°vkov√Ω k√≥d pre vyzdvihnutie.</p>
          <label>Zadajte k√≥d:</label>
          <input
            type="text"
            id="pickupCodeInput"
            placeholder="Zadajte k√≥d"
            onclick="openKeyboardForInput('pickupCodeInput')"
          />
          <button onclick="navigateTo('paymentScreen')">
            <i class="fa-solid fa-truck btn-icon"></i>
            Pokraƒçova≈•
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- PLATOBN√Å OBRAZOVKA -->
        <div id="paymentScreen" class="screen">
          <h1>Platba</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/platba.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>T√°to objedn√°vka e≈°te nie je uhraden√°.</p>
          <p>Suma k √∫hrade: <strong>10,00‚Ç¨</strong></p>
          <p>Vyberte sp√¥sob platby:</p>
          <button onclick="simulatePayment('Visa/MasterCard')">
            <i class="fa-solid fa-credit-card btn-icon"></i>
            Visa/MasterCard
          </button>
          <button onclick="simulatePayment('Bezkontaktn√© platby')">
            <i class="fa-solid fa-mobile-screen btn-icon"></i>
            Bezkontaktn√© platby
          </button>
          <button onclick="navigateTo('invoiceScreen')">
            <i class="fa-solid fa-file-invoice btn-icon"></i>
            Potvrdi≈• platbu
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- FAKT√öRA -->
        <div id="invoiceScreen" class="screen">
          <h1>Fakt√∫ra</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/faktura.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Po √∫spe≈°nej platbe zadajte V√°≈° email, na ktor√Ω V√°m odo≈°leme fakt√∫ru.
          </p>
          <label>Email:</label>
          <input
            type="email"
            id="invoiceEmailInput"
            placeholder="vasemail@example.com"
            onclick="openKeyboardForInput('invoiceEmailInput')"
          />
          <button onclick="sendInvoice()">
            <i class="fa-solid fa-paper-plane btn-icon"></i>
            Odosla≈• fakt√∫ru
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- SKRINKA OTVOREN√Å -->
        <div id="lockerOpenScreen" class="screen">
          <h1>Skrinka otvoren√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/skrinka-otvorena.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Va≈°a objedn√°vka je pripraven√°.<br />
            Prevziahnite pr√°dlo a nezabudnite skrinku spr√°vne uzavrie≈•.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>
      </div>
    </div>

    <!-- RIGHT PANEL -->
    <div class="right-panel">
      <!-- Language Switcher in top-right corner -->
      <div class="language-switcher">
        <span class="lang-option" onclick="setLanguage('sk')">üá∏üá∞</span>
        <span class="lang-option" onclick="setLanguage('en')">üá¨üáß</span>
      </div>

      <!-- 1) VYZDVIHNUTIE (zobraz√≠ sa len na Home Screen) -->
      <div id="pickupScreen" class="screen active">
        <h1>Vyzdvihnutie</h1>
        <div style="font-size: 48px; text-align: center; margin: 20px 0;">
          <i class="fa-solid fa-truck"></i>
        </div>
        <p>Ak chcete objedn√°vku vyzdvihn√∫≈• okam≈æite, stlaƒçte tlaƒçidlo:</p>
        <button onclick="startPickupProcess()">
          <i class="fa-solid fa-truck btn-icon"></i>
          Vyzdvihn√∫≈• objedn√°vku
        </button>

        <!-- Logo at the bottom -->
        <div class="right-panel-logo">
          <img src="assets/logo.png" alt="EASY-WASH" />
        </div>
      </div>

      <!-- 2) TLAƒåIDLO DOMOV (v≈°etky in√© obrazovky) -->
      <div id="returnHomeScreen" class="screen">
        <h1 style="font-size: 20px; text-align: center;">Navig√°cia</h1>
        <div style="font-size: 32px; text-align: center; margin: 20px 0;">
          <i class="fa-solid fa-house"></i>
        </div>
        <p style="text-align: center;">Pre n√°vrat na hlavn√∫ obrazovku:</p>
        <button onclick="navigateHome()">
          <i class="fa-solid fa-house btn-icon"></i>
          Domov
        </button>

        <!-- Logo at the bottom -->
        <div class="right-panel-logo">
          <img src="assets/logo.png" alt="EASY-WASH" />
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <a href="#">Obchodn√© podmienky</a> |
      <a href="#">GDPR</a> |
      <a href="#">Cenn√≠k</a>
    </div>

    <!-- KIOSK MESSAGE MODAL -->
    <div id="messageModal" class="modal">
      <div class="modal-content">
        <p id="modalMessage"></p>
        <button onclick="closeModalMessage()">OK</button>
      </div>
    </div>

    <!-- ON-SCREEN KEYBOARD -->
    <div id="keyboard" class="keyboard">
      <div class="keyboard-row">
        <button onclick="typeKey('1')">1</button>
        <button onclick="typeKey('2')">2</button>
        <button onclick="typeKey('3')">3</button>
        <button onclick="typeKey('4')">4</button>
        <button onclick="typeKey('5')">5</button>
        <button onclick="typeKey('6')">6</button>
        <button onclick="typeKey('7')">7</button>
        <button onclick="typeKey('8')">8</button>
        <button onclick="typeKey('9')">9</button>
        <button onclick="typeKey('0')">0</button>
      </div>
      <div class="keyboard-row">
        <button onclick="typeKey('Q')">Q</button>
        <button onclick="typeKey('W')">W</button>
        <button onclick="typeKey('E')">E</button>
        <button onclick="typeKey('R')">R</button>
        <button onclick="typeKey('T')">T</button>
        <button onclick="typeKey('Y')">Y</button>
        <button onclick="typeKey('U')">U</button>
        <button onclick="typeKey('I')">I</button>
        <button onclick="typeKey('O')">O</button>
        <button onclick="typeKey('P')">P</button>
      </div>
      <div class="keyboard-row">
        <button onclick="typeKey('A')">A</button>
        <button onclick="typeKey('S')">S</button>
        <button onclick="typeKey('D')">D</button>
        <button onclick="typeKey('F')">F</button>
        <button onclick="typeKey('G')">G</button>
        <button onclick="typeKey('H')">H</button>
        <button onclick="typeKey('J')">J</button>
        <button onclick="typeKey('K')">K</button>
        <button onclick="typeKey('L')">L</button>
      </div>
      <div class="keyboard-row">
        <button onclick="typeKey('Z')">Z</button>
        <button onclick="typeKey('X')">X</button>
        <button onclick="typeKey('C')">C</button>
        <button onclick="typeKey('V')">V</button>
        <button onclick="typeKey('B')">B</button>
        <button onclick="typeKey('N')">N</button>
        <button onclick="typeKey('M')">M</button>
      </div>
      <div class="keyboard-row">
        <button onclick="keyboardBackspace()">‚å´</button>
        <button onclick="closeKeyboard()">Close</button>
      </div>
    </div>
  </div>

  <script>
    /***********************************************
     * GLOBAL VARIABLES & INITIAL ANIMATION SETUP
     ***********************************************/
    let generatedOrderCode = "";
    let generatedQRCode = "";
    let smsCode = "";

    // For the message modal
    let messageModalCallback = null;

    // For the on-screen keyboard
    let activeInputId = null;

    // HOME SCREEN ANIM√ÅCIE
    const homeAnimations = [
      "assets/lottie/zadanie-objednavky.json",
      "assets/lottie/vlozeniie-do-skrinky.json",
      "assets/lottie/cakanie-na-pradlo.json",
      "assets/lottie/pickup.json",
      "assets/lottie/pracovna.json",
      "assets/lottie/notofikacia-pre-vyzdvihnutie.json",
      "assets/lottie/platba.json",
      "assets/lottie/objednavka-kompletna.json"
    ];

    // Corresponding text for each animation above
    const homeAnimationLabels = [
      "Zadanie objedn√°vky",
      "Vlo≈æenie do skrinky",
      "ƒåakanie na pr√°dlo",
      "Vyzdvihnutie (Pickup)",
      "Pracov≈àa ‚Äì spracovanie pr√°dla",
      "Notifik√°cia pre vyzdvihnutie",
      "Platba",
      "Objedn√°vka kompletn√°"
    ];

    let currentHomeAnimIndex = 0;

    window.addEventListener("DOMContentLoaded", () => {
      const homeLottiePlayer = document.getElementById("homeLottiePlayer");
      const tooltipEl = document.getElementById("homeAnimationTooltip");

      // Load the first animation
      homeLottiePlayer.load(homeAnimations[currentHomeAnimIndex]);
      tooltipEl.innerText = homeAnimationLabels[currentHomeAnimIndex];

      // On each animation complete, move to the next animation + update label
      homeLottiePlayer.addEventListener("complete", () => {
        currentHomeAnimIndex++;
        if (currentHomeAnimIndex >= homeAnimations.length) {
          currentHomeAnimIndex = 0; // loop back
        }
        homeLottiePlayer.load(homeAnimations[currentHomeAnimIndex]);
        homeLottiePlayer.play();
        tooltipEl.innerText = homeAnimationLabels[currentHomeAnimIndex];
      });

      // Show the right-panel pickup screen on load
      showPickupRightPanel();

      // GLOBAL CLICK LISTENER: if click is outside an input or the keyboard, hide keyboard
      const kiosk = document.getElementById("kioskContainer");
      kiosk.addEventListener("click", (e) => {
        // if NOT clicking on an input or the keyboard itself...
        if (
          !e.target.closest("input") && // not an <input>
          !e.target.closest("#keyboard") // not inside the keyboard
        ) {
          closeKeyboard();
        }
      });
    });

    /***********************************************
     * MODAL MESSAGES (replaces alert)
     ***********************************************/
    function showMessage(msg, callback) {
      const modal = document.getElementById("messageModal");
      const modalText = document.getElementById("modalMessage");
      modalText.innerText = msg;
      messageModalCallback = callback || null;
      modal.style.display = "flex";
    }

    function closeModalMessage() {
      const modal = document.getElementById("messageModal");
      modal.style.display = "none";
      if (messageModalCallback) {
        // If there's a callback, call it after closing
        messageModalCallback();
        messageModalCallback = null;
      }
    }

    /***********************************************
     * ON-SCREEN KEYBOARD
     ***********************************************/
    function openKeyboardForInput(inputId) {
      activeInputId = inputId;
      document.getElementById("keyboard").style.display = "block";
    }

    function typeKey(key) {
      if (!activeInputId) return;
      const inputEl = document.getElementById(activeInputId);
      if (key === "Backspace") {
        inputEl.value = inputEl.value.slice(0, -1);
      } else {
        inputEl.value += key;
      }
    }

    function keyboardBackspace() {
      typeKey("Backspace");
    }

    function closeKeyboard() {
      document.getElementById("keyboard").style.display = "none";
      activeInputId = null;
    }

    /***********************************************
     * NAVIGATION & PANELS
     ***********************************************/
    function setLanguage(lang) {
      showMessage("Prep√≠nam jazyk na: " + (lang === "sk" ? "Slovenƒçina" : "English"));
    }

    function navigateTo(screenId) {
      const screens = document.querySelectorAll("#screensContainer .screen");
      screens.forEach((screen) => screen.classList.remove("active"));

      const target = document.getElementById(screenId);
      if (target) {
        target.classList.add("active");
      }

      // Ak nie sme na home-screen, zobraz√≠me returnHome
      if (screenId === "home-screen") {
        showPickupRightPanel();
      } else {
        showReturnHomeRightPanel();
      }
    }
    function navigateBack() {
      navigateTo("home-screen");
    }
    function navigateHome() {
      navigateTo("home-screen");
    }

    // RIGHT PANEL
    function showPickupRightPanel() {
      document.getElementById("pickupScreen").classList.add("active");
      document.getElementById("returnHomeScreen").classList.remove("active");
    }
    function showReturnHomeRightPanel() {
      document.getElementById("pickupScreen").classList.remove("active");
      document.getElementById("returnHomeScreen").classList.add("active");
    }

    function startPickupProcess() {
      navigateTo("orderPickupPaymentScreen");
      showReturnHomeRightPanel();
    }

    /***********************************************
     * KIOSK LOGIC
     ***********************************************/
    function sendSMSCode() {
      const phone = document.getElementById("phoneInput").value.trim();
      if (!phone) {
        showMessage("Zadajte telef√≥nne ƒç√≠slo!");
        return;
      }
      showMessage("SMS k√≥d bol odoslan√Ω na ƒç√≠slo " + phone, () => {
        smsCode = "0000";
        navigateTo("smsVerificationScreen");
      });
    }

    function verifySMSCode() {
      const inputCode = document.getElementById("smsCodeInput").value.trim();
      if (inputCode === smsCode) {
        showMessage("Telef√≥nne ƒç√≠slo bolo √∫spe≈°ne overen√©.", () => {
          navigateTo("serviceSelectionScreen");
        });
      } else {
        showMessage("Nespr√°vny k√≥d. Sk√∫ste to znova.");
      }
    }

    function selectService(service) {
      showMessage("Vybrali ste slu≈æbu: " + service, () => {
        navigateTo("weightMeasurementScreen");
      });
    }

    function simulateWeightMeasurement() {
      const progressBar = document.getElementById("weightProgress");
      progressBar.style.width = "0%";
      setTimeout(() => {
        progressBar.style.width = "100%";
      }, 100);
      setTimeout(() => {
        const weight = (Math.random() * 5 + 1).toFixed(2);
        showMessage("Zmeran√° hmotnos≈•: " + weight + " kg", () => {
          navigateTo("orderLockScreen");
        });
      }, 2100);
    }

    function generateOrderCode() {
      generatedOrderCode = Math.floor(100000 + Math.random() * 900000).toString();
      generatedQRCode = "QR" + generatedOrderCode;
      document.getElementById("generatingCode").classList.remove("blink");
      document.getElementById("orderCodeDisplay").innerText = generatedOrderCode;
      document.getElementById("qrCodeDisplay").innerText = generatedQRCode;
      navigateTo("orderReadyScreen");
    }

    function simulateQRScan() {
      if (!generatedOrderCode) {
        generatedOrderCode = Math.floor(100000 + Math.random() * 900000).toString();
        generatedQRCode = "QR" + generatedOrderCode;
      }
      showMessage("Naskenovan√Ω objedn√°vkov√Ω k√≥d: " + generatedOrderCode, () => {
        navigateTo("orderLockScreen");
      });
    }

    function simulatePayment(method) {
      showMessage("Platba cez " + method + " bola √∫spe≈°n√°.");
    }

    function sendInvoice() {
      const email = document.getElementById("invoiceEmailInput").value.trim();
      if (!email) {
        showMessage("Zadajte platn√Ω email!");
        return;
      }
      showMessage("Fakt√∫ra bola odoslan√° na " + email, () => {
        navigateTo("lockerOpenScreen");
      });
    }
  </script>
</body>
</html>
