<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <title>KIOSK UI Prototype</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap"
    rel="stylesheet"
  />
  
  <!-- Font Awesome (CDN) -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-9nu6Sdz9EUK9AIcs62hP01geIKUloK+ZqYMn1tzfN2cSr4+zI/sinFjkX5NYvCksIf21zoAY21vt7K9gRILUgA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <!-- Lottie (for .json animations) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- Kiosk main CSS -->
  <link rel="stylesheet" href="css/kiosk.css" />
</head>

<body>
  <!-- Kiosk Container -->
  <div class="kiosk-container" id="kioskContainer">

    <!-- Language Switcher (top-right corner) -->
    <div class="language-switcher">
      <span class="lang-option" onclick="setLanguage('sk')">üá∏üá∞</span>
      <span class="lang-option" onclick="setLanguage('en')">üá¨üáß</span>
    </div>

    <!-- LEFT PANEL -->
    <div class="left-panel">
      <!-- SCREENS CONTAINER -->
      <div id="screensContainer">
        
        <!-- HOME SCREEN -->
        <div id="home-screen" class="screen active">
          <h1>Vitajte v KIOSK</h1>
          <div class="lottie-container">
            <!-- Rotating icons controlled by kiosk.js -->
            <lottie-player
              id="homeLottiePlayer"
              background="transparent"
              speed="1"
              style="width: 100%; height: 100%;"
              autoplay
            ></lottie-player>
          </div>
          <p id="homeAnimationTooltip" class="animation-description"></p>

          <p>
            Na≈°a slu≈æba zabezpeƒç√≠ r√Ωchle a spoƒæahliv√© pranie, su≈°enie, ≈æehlenie a
            zlo≈æenie v√°≈°ho pr√°dla. Odovzdajte pr√°dlo do n√°≈°ho lockerboxu a my sa
            postar√°me o zvy≈°ok.
          </p>

          <button onclick="navigateTo('newOrderScreen')">
            <i class="fa-solid fa-plus-circle btn-icon"></i>
            Nov√° objedn√°vka bez aplik√°cie
          </button>
          <button onclick="navigateTo('scanOrderScreen')">
            <i class="fa-solid fa-qrcode btn-icon"></i>
            Zada≈•/naskenova≈• objedn√°vkov√Ω k√≥d
          </button>
          <button onclick="navigateTo('registerScreen')">
            <i class="fa-solid fa-user-plus btn-icon"></i>
            Registrova≈• sa ‚Äì 50% zƒæava na prv√∫ objedn√°vku
          </button>
        </div>

        <!-- NEW ORDER SCREEN -->
        <div id="newOrderScreen" class="screen">
          <h1>Nov√° objedn√°vka</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/zadavanie-kodu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Zadajte svoje telef√≥nne ƒç√≠slo. SMS k√≥d pou≈æijeme na notifik√°cie.</p>
          <label>Telef√≥nne ƒç√≠slo:</label>
          <input
            type="tel"
            id="phoneInput"
            placeholder="0900 000 000"
            onclick="openKeyboardForInput('phoneInput')"
          />
          <button onclick="sendSMSCode()">
            <i class="fa-solid fa-sms btn-icon"></i>
            Odosla≈• SMS k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- SMS VERIFICATION SCREEN -->
        <div id="smsVerificationScreen" class="screen">
          <h1>Overenie telef√≥nu</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/overenie-telefonu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Zadajte 4-miestny k√≥d z SMS. (K√≥d je 0000)</p>
          <label>SMS k√≥d:</label>
          <input
            type="text"
            id="smsCodeInput"
            placeholder="0000"
            onclick="openKeyboardForInput('smsCodeInput')"
          />
          <button onclick="verifySMSCode()">
            <i class="fa-solid fa-check-circle btn-icon"></i>
            Overi≈• k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- SERVICE SELECTION SCREEN -->
        <div id="serviceSelectionScreen" class="screen">
          <h1>V√Ωber slu≈æby</h1>
          <p>Vyberte slu≈æbu, ktor√∫ si ≈æel√°te:</p>
          <button onclick="selectService('Pranie + Su≈°enie + Zlo≈æenie')">
            <i class="fa-solid fa-tshirt btn-icon"></i>
            <div>
              Pranie + Su≈°enie + Zlo≈æenie
              <span class="price-tag">2,99 ‚Ç¨/kg</span>
            </div>
          </button>
          <button onclick="selectService('Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie')">
            <i class="fa-solid fa-iron btn-icon"></i>
            <div>
              Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie
              <span class="price-tag">4,5 ‚Ç¨/kg</span>
            </div>
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- WEIGHT MEASUREMENT SCREEN -->
        <div id="weightMeasurementScreen" class="screen">
          <h1>Meranie hmotnosti</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/vaha.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Postup:</p>
          <ul>
            <li>Vysu≈àte z√°suvku s tray v√°hou v locker boxe.</li>
            <li>Umiestnite pr√°dlo na v√°hu.</li>
            <li>Syst√©m automaticky zmeria hmotnos≈• a odo≈°le √∫daje do admin syst√©mu.</li>
          </ul>
          <div id="scaleGraphic" style="font-size: 32px; text-align: center;">
            ‚öñÔ∏è
          </div>
          <div
            class="progress-container"
            style="
              background: #ccc;
              border-radius: 4px;
              overflow: hidden;
              height: 10px;
              margin: 10px 0;
            "
          >
            <div
              class="progress-bar"
              id="weightProgress"
              style="height: 100%; width: 0%; background: #007bff;"
            ></div>
          </div>
          <button onclick="startWeightMeasurement()">
            <i class="fa-solid fa-weight-scale btn-icon"></i>
            Spusti≈• meranie
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- ORDER LOCK SCREEN -->
        <div id="orderLockScreen" class="screen">
          <h1>Uzamknutie objedn√°vky</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/vlozeniie-do-skrinky.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Pr√°dlo bolo vlo≈æen√© do spr√°vnej skrinky. Syst√©m teraz uzamkne objedn√°vku
            a generuje k√≥d.
          </p>
          <div id="generatingCode" class="blink">
            <p>Generujem k√≥d...</p>
          </div>
          <button onclick="generateOrderCode()">
            <i class="fa-solid fa-lock btn-icon"></i>
            Dokonƒçi≈• objedn√°vku
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- ORDER READY SCREEN -->
        <div id="orderReadyScreen" class="screen">
          <h1>Objedn√°vka pripraven√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/objednavka-kompletna.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            <strong>V√°≈° objedn√°vkov√Ω k√≥d:</strong>
            <span id="orderCodeDisplay"></span>
          </p>
          <p>
            <strong>QR k√≥d:</strong>
            <span id="qrCodeDisplay"></span>
          </p>
          <p>
            Objedn√°vka bola spracovan√°. Pou≈æite tento k√≥d alebo naskenujte QR k√≥d
            pri vyzdvihnut√≠.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- REGISTER SCREEN -->
        <div id="registerScreen" class="screen">
          <h1>Registr√°cia a 50% zƒæava</h1>
          <div style="display: flex; justify-content: space-evenly; flex-wrap: wrap; gap: 20px;">
            <!-- Apple QR -->
            <div style="text-align: center;">
              <div
                class="qr-code"
                style="background: url('assets/qr-apple.png') center/cover no-repeat;"
              >
                <span style="color:#777; font-size:12px;">Apple QR</span>
              </div>
              <p style="margin-top:8px;">
                <img src="assets/logo.png" alt="EASY-WASH" style="width:60px;" /><br />
                EASY-WASH (Apple)
              </p>
            </div>

            <!-- Android QR -->
            <div style="text-align: center;">
              <div
                class="qr-code"
                style="background: url('assets/qr-android.png') center/cover no-repeat;"
              >
                <span style="color:#777; font-size:12px;">Android QR</span>
              </div>
              <p style="margin-top:8px;">
                <img src="assets/logo.png" alt="EASY-WASH" style="width:60px;" /><br />
                EASY-WASH (Android)
              </p>
            </div>

            <!-- Website QR -->
            <div style="text-align: center;">
              <div
                class="qr-code"
                style="background: url('assets/qr-web.png') center/cover no-repeat;"
              >
                <span style="color:#777; font-size:12px;">Web QR</span>
              </div>
              <p style="margin-top:8px;">
                <img src="assets/logo.png" alt="EASY-WASH" style="width:60px;" /><br />
                www.easy-wash.sk
              </p>
            </div>
          </div>
          <button onclick="navigateTo('scanOrderScreen')">
            <i class="fa-solid fa-check btn-icon"></i>
            U≈æ m√°m aplik√°ciu / som registrovan√Ω
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/registracia.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
        </div>

        <!-- REGISTERED SCREEN -->
        <div id="appRegisteredScreen" class="screen">
          <h1>Registr√°cia √∫spe≈°n√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/registrovany.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Va≈°e telef√≥nne ƒç√≠slo bolo overen√©. Teraz si objedn√°vku m√¥≈æete zada≈•
            cez aplik√°ciu alebo web.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- SCAN SCREEN -->
        <div id="scanOrderScreen" class="screen">
          <h1>Zada≈•/naskenova≈• objedn√°vkov√Ω k√≥d</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/zadavanie-kodu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte k√≥d, ktor√Ω ste obdr≈æali z aplik√°cie alebo webu.
            Pr√≠padne pou≈æite funkciu naskenovania QR k√≥du.
          </p>
          <label>Objedn√°vkov√Ω k√≥d:</label>
          <input
            type="text"
            id="orderCodeInput"
            placeholder="Zadajte k√≥d"
            onclick="openKeyboardForInput('orderCodeInput')"
          />
          <button onclick="scanQRCode()">
            <i class="fa-solid fa-camera btn-icon"></i>
            Naskenova≈• QR k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- ORDER PICKUP PAYMENT SCREEN (two side-by-side animations) -->
        <div id="orderPickupPaymentScreen" class="screen">
          <h1>Vyzdvihnutie objedn√°vky</h1>
          <div style="display: flex; gap: 20px; justify-content: center; margin-bottom: 20px;">
            <!-- scan-qr.json -->
            <div class="lottie-container lottie-sm">
              <lottie-player
                src="assets/lottie/scan-qr.json"
                background="transparent"
                speed="1"
                loop
                autoplay
              ></lottie-player>
            </div>
            <!-- zadavanie-kodu.json -->
            <div class="lottie-container lottie-sm">
              <lottie-player
                src="assets/lottie/zadavanie-kodu.json"
                background="transparent"
                speed="1"
                loop
                autoplay
              ></lottie-player>
            </div>
          </div>
          <p>Zadajte alebo naskenujte objedn√°vkov√Ω k√≥d pre vyzdvihnutie.</p>
          <label>Zadajte k√≥d:</label>
          <input
            type="text"
            id="pickupCodeInput"
            placeholder="Zadajte k√≥d"
            onclick="openKeyboardForInput('pickupCodeInput')"
          />
          <button onclick="goToPaymentScreen()">
            <i class="fa-solid fa-truck btn-icon"></i>
            Pokraƒçova≈•
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- PAYMENT SCREEN -->
        <div id="paymentScreen" class="screen">
          <h1>Platba</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/platba.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>T√°to objedn√°vka e≈°te nie je uhraden√°.</p>
          <p>Suma k √∫hrade: <strong>10,00‚Ç¨</strong></p>
          <p>Vyberte sp√¥sob platby:</p>
          <button onclick="startCardPayment()">
            <i class="fa-solid fa-credit-card btn-icon"></i>
            Zaplati≈• kartou
          </button>
          <button onclick="startContactlessPayment()">
            <i class="fa-solid fa-mobile-screen btn-icon"></i>
            Zaplati≈• bezkontaktne
          </button>
          <button onclick="navigateTo('invoiceScreen')">
            <i class="fa-solid fa-file-invoice btn-icon"></i>
            Potvrdi≈• platbu
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- INVOICE SCREEN -->
        <div id="invoiceScreen" class="screen">
          <h1>Fakt√∫ra</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/faktura.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Zadajte V√°≈° email, na ktor√Ω V√°m odo≈°leme fakt√∫ru.</p>
          <label>Email:</label>
          <input
            type="email"
            id="invoiceEmailInput"
            placeholder="vasemail@example.com"
            onclick="openKeyboardForInput('invoiceEmailInput')"
          />
          <button onclick="sendInvoice()">
            <i class="fa-solid fa-paper-plane btn-icon"></i>
            Odosla≈• fakt√∫ru
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- LOCKER OPEN SCREEN -->
        <div id="lockerOpenScreen" class="screen">
          <h1>Skrinka otvoren√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/skrinka-otvorena.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Va≈°a objedn√°vka je pripraven√°. Prevziahnite pr√°dlo a zatvorte skrinku.</p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

      </div>
      
      <!-- FOOTER LINKS (Restored) at the bottom of LEFT PANEL -->
      <div class="footer-links">
        <a href="#">Obchodn√© podmienky</a> |
        <a href="#">GDPR</a> |
        <a href="#">Cenn√≠k</a>
      </div>
    </div>

    <!-- RIGHT PANEL -->
    <div class="right-panel">
      <!-- 1) VYZDVIHNUTIE (Home Screen) -->
      <div id="pickupScreen" class="screen active">
        <h1>Vyzdvihnutie</h1>
        <div style="font-size: 48px; text-align: center; margin: 20px 0;">
          <i class="fa-solid fa-truck"></i>
        </div>
        <p>Ak chcete objedn√°vku vyzdvihn√∫≈• okam≈æite, stlaƒçte tlaƒçidlo:</p>
        <button onclick="startPickupProcess()">
          <i class="fa-solid fa-truck btn-icon"></i>
          Vyzdvihn√∫≈• objedn√°vku
        </button>

        <!-- Logo at the bottom -->
        <div class="right-panel-logo">
          <img src="assets/logo.png" alt="EASY-WASH" />
        </div>
      </div>

      <!-- 2) TLAƒåIDLO DOMOV (Navigation) -->
      <div id="returnHomeScreen" class="screen">
        <h1 style="font-size: 20px; text-align: center;">Navig√°cia</h1>
        <div style="font-size: 32px; text-align: center; margin: 20px 0;">
          <i class="fa-solid fa-house"></i>
        </div>
        <p style="text-align: center;">Pre n√°vrat na hlavn√∫ obrazovku:</p>
        <button onclick="navigateHome()">
          <i class="fa-solid fa-house btn-icon"></i>
          Domov
        </button>

        <!-- Logo at the bottom -->
        <div class="right-panel-logo">
          <img src="assets/logo.png" alt="EASY-WASH" />
        </div>
      </div>
    </div>
  </div>

  <!-- MESSAGE MODAL (for kiosk pop-up messages) -->
  <div id="messageModal" class="modal">
    <div class="modal-content">
      <p id="modalMessage"></p>
      <button onclick="closeModalMessage()">OK</button>
    </div>
  </div>

  <!-- KEYBOARD CONTAINER (loaded from partials/keyboard.html) -->
  <div id="keyboardContainer"></div>

  <!-- JS SCRIPTS -->
  <!-- 1) kiosk-keyboard.js -> loads partials/keyboard.html into #keyboardContainer -->
  <script src="js/kiosk-keyboard.js"></script>
  <!-- 2) kiosk.js -> main kiosk logic (navigation, popups, rotating icons, etc.) -->
  <script src="js/kiosk.js"></script>
</body>
</html>
