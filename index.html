<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <title>KIOSK UI Prototype ‚Äì Modern√© rozhranie s Lottie anim√°ciami</title>
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap"
    rel="stylesheet"
  />
  <!-- Font Awesome (CDN) -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-9nu6Sdz9EUK9AIcs62hP01geIKUloK+ZqYMn1tzfN2cSr4+zI/sinFjkX5NYvCksIf21zoAY21vt7K9gRILUgA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
/>
  <!-- Lottie (na prehr√°vanie .json anim√°ci√≠) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <style>
    /* BODY: top padding so kiosk isn't too close to the top */
    body {
      margin: 0;
      background-color: #222;
      font-family: 'Roboto', sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start; /* align kiosk to top, not center */
      padding-top: 40px;       /* add space from top of browser window */
    }

    /* KIOSK CONTAINER */
    .kiosk-container {
      width: 720px;
      height: 900px;
      background: linear-gradient(135deg, #f7f9fc, #e3e7f0);
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
      border-radius: 12px;
      display: flex;
      flex-direction: row;
      overflow: hidden;
      position: relative; /* for header/footer absolute positioning */
    }

    /* PANELS */
    .left-panel,
    .right-panel {
      padding: 20px;
      overflow-y: auto;
      position: relative;
    }
    .left-panel {
      width: 70%;
      background-color: #fff;
      border-right: 1px solid #ccc;
      display: flex;
      flex-direction: column;
    }
    .right-panel {
      width: 30%;
      background-color: #f5f7fa;
    }

    /* HEADER */
    .header {
      position: absolute;
      top: 30px; /* push it down a bit more from top */
      right: 10px;
      z-index: 10;
    }
    .language-switcher {
      display: flex;
      gap: 10px;
    }
    .lang-option {
      font-size: 24px;
      cursor: pointer;
      user-select: none;
      transition: transform 0.2s;
    }
    .lang-option:hover {
      transform: scale(1.2);
    }

    /* FOOTER */
    .footer {
      position: absolute;
      bottom: 30px; /* push it up from bottom a bit */
      width: 100%;
      text-align: center;
      font-size: 14px;
      color: #555;
    }
    .footer a {
      color: #007bff;
      text-decoration: none;
      margin: 0 5px;
    }
    .footer a:hover {
      text-decoration: underline;
    }

    /* BASIC TEXT */
    h1 {
      font-size: 24px;
      margin: 15px 0;
      color: #333;
    }
    p,
    label,
    li {
      font-size: 16px;
      line-height: 1.5;
      margin: 10px 0;
      color: #555;
    }

    /* INPUTS */
    input[type='text'],
    input[type='tel'],
    input[type='email'] {
      width: 100%;
      padding: 12px;
      margin: 8px 0 20px 0;
      font-size: 16px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    /* BUTTONS */
    button {
      width: 100%;
      padding: 12px 16px;
      margin: 8px 0;
      font-size: 16px;
      background: linear-gradient(135deg, #007bff, #0056b3);
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    button:hover {
      background: linear-gradient(135deg, #0056b3, #003f7f);
      transform: translateY(-2px);
    }
    .btn-icon {
      font-size: 18px;
    }

    /* QR CODE BOX */
    .qr-code {
      width: 160px;
      height: 160px;
      background-color: #ddd;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: #555;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    /* SCREEN TRANSITIONS (LEFT PANEL) */
    .screen {
      display: none;
      opacity: 0;
      transform: translateY(20px);
    }
    .active {
      display: block;
      animation: fadeInUp 0.5s forwards;
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .blink {
      animation: blinkAnimation 1s infinite;
    }
    @keyframes blinkAnimation {
      0% {
        opacity: 1;
      }
      50% {
        opacity: 0.2;
      }
      100% {
        opacity: 1;
      }
    }

    /* LOTTIE PLAYER CONTAINERS */
    .lottie-container {
      width: 250px;
      height: 250px;
      margin: 0 auto 10px auto;
      text-align: center;
    }
    .lottie-sm {
      width: 150px;
      height: 150px;
    }
  </style>
</head>

<body>
  <div class="kiosk-container">
    <!-- HEADER -->
    <div class="header">
      <div class="language-switcher">
        <span class="lang-option" onclick="setLanguage('sk')">üá∏üá∞</span>
        <span class="lang-option" onclick="setLanguage('en')">üá¨üáß</span>
      </div>
    </div>

    <!-- LEFT PANEL (screens) -->
    <div class="left-panel">
      <div id="screensContainer">
        <!-- HOME SCREEN -->
        <div id="home-screen" class="screen active">
          <h1>Vitajte v KIOSK</h1>
          <div class="lottie-container">
            <lottie-player
              id="homeLottiePlayer"
              background="transparent"
              speed="1"
              style="width: 100%; height: 100%;"
              autoplay
            ></lottie-player>
          </div>
          <p>
            Na≈°a slu≈æba zabezpeƒç√≠ r√Ωchle a spoƒæahliv√© pranie, su≈°enie, ≈æehlenie a
            zlo≈æenie v√°≈°ho pr√°dla. Odovzdajte pr√°dlo do n√°≈°ho lockerboxu a my sa
            postar√°me o zvy≈°ok.
          </p>

          <button onclick="navigateTo('newOrderScreen')">
            <i class="fa-solid fa-plus-circle btn-icon"></i>
            Nov√° objedn√°vka bez aplik√°cie
          </button>
          <button onclick="navigateTo('scanOrderScreen')">
            <i class="fa-solid fa-qrcode btn-icon"></i>
            Zada≈•/naskenova≈• objedn√°vkov√Ω k√≥d
          </button>
          <button onclick="navigateTo('registerScreen')">
            <i class="fa-solid fa-user-plus btn-icon"></i>
            Registrova≈• sa ‚Äì 50% zƒæava na prv√∫ objedn√°vku
          </button>
        </div>

        <!-- NOV√Å OBJEDN√ÅVKA -->
        <div id="newOrderScreen" class="screen">
          <h1>Nov√° objedn√°vka</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/zadanie-objednavky.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte svoje telef√≥nne ƒç√≠slo. SMS k√≥d pou≈æijeme na notifik√°cie o stave
            objedn√°vky.
          </p>
          <label>Telef√≥nne ƒç√≠slo:</label>
          <input type="tel" id="phoneInput" placeholder="0900 000 000" />
          <button onclick="sendSMSCode()">
            <i class="fa-solid fa-sms btn-icon"></i>
            Odosla≈• SMS k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- OVERENIE SMS K√ìDU -->
        <div id="smsVerificationScreen" class="screen">
          <h1>Overenie telef√≥nu</h1>
          <div class="lottie-container lottie-sm">
            <!-- If you have a local file for this, place it in assets/lottie and change the path -->
            <lottie-player
              src="assets/lottie/overenie-telefonu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte 4-miestny k√≥d, ktor√Ω ste obdr≈æali v SMS.<br />
            <em>(K√≥d je v≈ædy: 0000)</em>
          </p>
          <label>SMS k√≥d:</label>
          <input type="text" id="smsCodeInput" placeholder="0000" />
          <button onclick="verifySMSCode()">
            <i class="fa-solid fa-check-circle btn-icon"></i>
            Overi≈• k√≥d
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- V√ùBER SLU≈ΩBY -->
        <div id="serviceSelectionScreen" class="screen">
          <h1>V√Ωber slu≈æby</h1>
          <p>Vyberte slu≈æbu, ktor√∫ si ≈æel√°te:</p>
          <button onclick="selectService('Pranie + Su≈°enie + Zlo≈æenie')">
            <i class="fa-solid fa-tshirt btn-icon"></i>
            Pranie + Su≈°enie + Zlo≈æenie
          </button>
          <button
            onclick="selectService('Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie')"
          >
            <i class="fa-solid fa-iron btn-icon"></i>
            Pranie + Su≈°enie + ≈Ωehlenie + Zlo≈æenie
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- MERANIE HMOTNOSTI -->
        <div id="weightMeasurementScreen" class="screen">
          <h1>Meranie hmotnosti</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/vaha.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Postup:</p>
          <ul>
            <li>Vysu≈àte z√°suvku s tray v√°hou v locker boxe.</li>
            <li>Umiestnite pr√°dlo na v√°hu.</li>
            <li>
              Syst√©m automaticky zmeria hmotnos≈• a odo≈°le √∫daje do admin syst√©mu.
            </li>
          </ul>
          <div id="scaleGraphic" style="font-size: 32px; text-align: center;">
            ‚öñÔ∏è
          </div>
          <div
            class="progress-container"
            style="
              background: #ccc;
              border-radius: 4px;
              overflow: hidden;
              height: 10px;
              margin: 10px 0;
            "
          >
            <div
              class="progress-bar"
              id="weightProgress"
              style="height: 100%; width: 0%; background: #007bff;"
            ></div>
          </div>
          <button onclick="simulateWeightMeasurement()">
            <i class="fa-solid fa-weight-scale btn-icon"></i>
            Spusti≈• meranie
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- UZAMKNUTIE OBJEDN√ÅVKY -->
        <div id="orderLockScreen" class="screen">
          <h1>Uzamknutie objedn√°vky</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/vlozeniie-do-skrinky.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Pr√°dlo bolo vlo≈æen√© do spr√°vnej skrinky.<br />
            Syst√©m teraz uzamkne objedn√°vku a generuje jedineƒçn√Ω objedn√°vkov√Ω k√≥d
            a QR k√≥d.
          </p>
          <div id="generatingCode" class="blink">
            <p>Generujem k√≥d...</p>
          </div>
          <button onclick="generateOrderCode()">
            <i class="fa-solid fa-lock btn-icon"></i>
            Dokonƒçi≈• objedn√°vku
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- OBJEDN√ÅVKA PRIPRAVEN√Å -->
        <div id="orderReadyScreen" class="screen">
          <h1>Objedn√°vka pripraven√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/objednavka-kompletna.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            <strong>V√°≈° objedn√°vkov√Ω k√≥d:</strong>
            <span id="orderCodeDisplay"></span>
          </p>
          <p>
            <strong>QR k√≥d:</strong>
            <span id="qrCodeDisplay"></span>
          </p>
          <p>
            Objedn√°vka bola spracovan√°.<br />
            Pou≈æite tento k√≥d alebo naskenujte QR k√≥d pri vyzdvihnut√≠.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- REGISTR√ÅCIA -->
        <div id="registerScreen" class="screen">
          <h1>Registr√°cia a 50% zƒæava</h1>
          <div class="lottie-container">
            <lottie-player
              src="assets/lottie/registracia.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Ak e≈°te nem√°te aplik√°ciu, naskenujte uveden√Ω QR k√≥d pre stiahnutie a
            registr√°ciu.
          </p>
          <div class="qr-code">QR k√≥d</div>
          <p>Aplik√°cia: MyLaundryApp<br />Web: www.mylaundry.com</p>
          <button onclick="navigateTo('appRegisteredScreen')">
            <i class="fa-solid fa-check btn-icon"></i>
            U≈æ m√°m aplik√°ciu / som registrovan√Ω
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- REGISTR√ÅCIA ‚Äì POTVRDENIE -->
        <div id="appRegisteredScreen" class="screen">
          <h1>Registr√°cia √∫spe≈°n√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/registrovany.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Va≈°e telef√≥nne ƒç√≠slo bolo overen√©.<br />
            Teraz si objedn√°vku m√¥≈æete zada≈• cez na≈°u aplik√°ciu alebo web.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>

        <!-- ZADANIE/NASKENOVANIE OBJEDN√ÅVKOV√âHO K√ìDU -->
        <div id="scanOrderScreen" class="screen">
          <h1>Zada≈•/naskenova≈• objedn√°vkov√Ω k√≥d</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/zadavanie-kodu.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Zadajte k√≥d, ktor√Ω ste obdr≈æali z aplik√°cie alebo webu.<br />
            Pr√≠padne pou≈æite funkciu simul√°cie naskenovania QR k√≥du.
          </p>
          <label>Objedn√°vkov√Ω k√≥d:</label>
          <input type="text" id="orderCodeInput" placeholder="Zadajte k√≥d" />
          <button onclick="simulateQRScan()">
            <i class="fa-solid fa-camera btn-icon"></i>
            Simulova≈• naskenovanie
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- VYZDVIHNUTIE OBJEDN√ÅVKY (PLATBA) -->
        <div id="orderPickupPaymentScreen" class="screen">
          <h1>Vyzdvihnutie objedn√°vky</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/objednavka-kompletna.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>Zadajte alebo naskenujte objedn√°vkov√Ω k√≥d pre vyzdvihnutie.</p>
          <label>Zadajte k√≥d:</label>
          <input type="text" id="pickupCodeInput" placeholder="Zadajte k√≥d" />
          <button onclick="navigateTo('paymentScreen')">
            <i class="fa-solid fa-truck btn-icon"></i>
            Pokraƒçova≈•
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- PLATOBN√Å OBRAZOVKA -->
        <div id="paymentScreen" class="screen">
          <h1>Platba</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/platba.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>T√°to objedn√°vka e≈°te nie je uhraden√°.</p>
          <p>Suma k √∫hrade: <strong>10,00‚Ç¨</strong></p>
          <p>Vyberte sp√¥sob platby:</p>
          <button onclick="simulatePayment('Visa/MasterCard')">
            <i class="fa-solid fa-credit-card btn-icon"></i>
            Visa/MasterCard
          </button>
          <button onclick="simulatePayment('Bezkontaktn√© platby')">
            <i class="fa-solid fa-mobile-screen btn-icon"></i>
            Bezkontaktn√© platby
          </button>
          <button onclick="navigateTo('invoiceScreen')">
            <i class="fa-solid fa-file-invoice btn-icon"></i>
            Potvrdi≈• platbu
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- FAKT√öRA -->
        <div id="invoiceScreen" class="screen">
          <h1>Fakt√∫ra</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/faktura.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Po √∫spe≈°nej platbe zadajte V√°≈° email, na ktor√Ω V√°m odo≈°leme fakt√∫ru.
          </p>
          <label>Email:</label>
          <input type="email" id="invoiceEmailInput" placeholder="vasemail@example.com" />
          <button onclick="sendInvoice()">
            <i class="fa-solid fa-paper-plane btn-icon"></i>
            Odosla≈• fakt√∫ru
          </button>
          <button onclick="navigateBack()">
            <i class="fa-solid fa-arrow-left btn-icon"></i>
            Sp√§≈•
          </button>
        </div>

        <!-- SKRINKA OTVOREN√Å -->
        <div id="lockerOpenScreen" class="screen">
          <h1>Skrinka otvoren√°</h1>
          <div class="lottie-container lottie-sm">
            <lottie-player
              src="assets/lottie/skrinka-otvorena.json"
              background="transparent"
              speed="1"
              loop
              autoplay
            ></lottie-player>
          </div>
          <p>
            Va≈°a objedn√°vka je pripraven√°.<br />
            Prevziahnite pr√°dlo a nezabudnite skrinku spr√°vne uzavrie≈•.
          </p>
          <button onclick="navigateHome()">
            <i class="fa-solid fa-house btn-icon"></i>
            Domov
          </button>
        </div>
      </div>
    </div>

    <!-- RIGHT PANEL -->
    <div class="right-panel">
      <!-- 1) VYZDVIHNUTIE (zobraz√≠ sa len na Home Screen) -->
      <div id="pickupScreen" class="screen active">
        <h1>Vyzdvihnutie</h1>
        <div style="font-size: 48px; text-align: center; margin: 20px 0;">
          <i class="fa-solid fa-truck"></i>
        </div>
        <p>Ak chcete objedn√°vku vyzdvihn√∫≈• okam≈æite, stlaƒçte tlaƒçidlo:</p>
        <button onclick="startPickupProcess()">
          <i class="fa-solid fa-truck btn-icon"></i>
          Vyzdvihn√∫≈• objedn√°vku
        </button>
      </div>
      <!-- 2) TLAƒåIDLO DOMOV (v≈°etky in√© obrazovky) -->
      <div id="returnHomeScreen" class="screen">
        <h1 style="font-size: 20px; text-align: center;">Navig√°cia</h1>
        <div style="font-size: 32px; text-align: center; margin: 20px 0;">
          <i class="fa-solid fa-house"></i>
        </div>
        <p style="text-align: center;">Pre n√°vrat na hlavn√∫ obrazovku:</p>
        <button onclick="navigateHome()">
          <i class="fa-solid fa-house btn-icon"></i>
          Domov
        </button>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <a href="#">Obchodn√© podmienky</a> |
      <a href="#">GDPR</a>
    </div>
  </div>

  <script>
    // Glob√°lne premenn√©
    let generatedOrderCode = "";
    let generatedQRCode = "";
    let smsCode = "";

    // HOME SCREEN ANIM√ÅCIE
    const homeAnimations = [
      "assets/lottie/zadanie-objednavky.json",
      "assets/lottie/vlozeniie-do-skrinky.json",
      "assets/lottie/cakanie-na-pradlo.json",
      "assets/lottie/pickup.json",
      "assets/lottie/pracovna.json",
      "assets/lottie/notofikacia-pre-vyzdvihnutie.json",
      "assets/lottie/platba.json",
      "assets/lottie/objednavka-kompletna.json"
    ];
    let currentHomeAnimIndex = 0;

    window.addEventListener("DOMContentLoaded", () => {
      const homeLottiePlayer = document.getElementById("homeLottiePlayer");
      homeLottiePlayer.load(homeAnimations[currentHomeAnimIndex]);

      // Po dokonƒçen√≠ anim√°cie
      homeLottiePlayer.addEventListener("complete", () => {
        currentHomeAnimIndex++;
        if (currentHomeAnimIndex >= homeAnimations.length) {
          currentHomeAnimIndex = 0; // looping sp√§≈•
        }
        homeLottiePlayer.load(homeAnimations[currentHomeAnimIndex]);
        homeLottiePlayer.play();
      });

      // Prav√Ω panel (Home Screen)
      showPickupRightPanel();
    });

    // Jazykov√Ω prep√≠naƒç
    function setLanguage(lang) {
      alert(
        "Prep√≠nam jazyk na: " + (lang === "sk" ? "Slovenƒçina" : "English")
      );
    }

    // NAVIG√ÅCIA (ƒΩAV√ù PANEL)
    function navigateTo(screenId) {
      const screens = document.querySelectorAll("#screensContainer .screen");
      screens.forEach((screen) => screen.classList.remove("active"));

      const target = document.getElementById(screenId);
      if (target) {
        target.classList.add("active");
      }

      // Ak nie sme na home-screen, zobraz√≠me returnHome
      if (screenId === "home-screen") {
        showPickupRightPanel();
      } else {
        showReturnHomeRightPanel();
      }
    }
    function navigateBack() {
      navigateTo("home-screen");
    }
    function navigateHome() {
      navigateTo("home-screen");
    }

    // FUNKCIE PRAV√ù PANEL
    function showPickupRightPanel() {
      document.getElementById("pickupScreen").classList.add("active");
      document.getElementById("returnHomeScreen").classList.remove("active");
    }
    function showReturnHomeRightPanel() {
      document.getElementById("pickupScreen").classList.remove("active");
      document.getElementById("returnHomeScreen").classList.add("active");
    }

    // VYZDVIHNUTIE OBJEDN√ÅVKY
    function startPickupProcess() {
      navigateTo("orderPickupPaymentScreen");
      showReturnHomeRightPanel();
    }

    // SMS SIMUL√ÅCIA
    function sendSMSCode() {
      const phone = document.getElementById("phoneInput").value.trim();
      if (!phone) {
        alert("Zadajte telef√≥nne ƒç√≠slo!");
        return;
      }
      alert("SMS k√≥d bol odoslan√Ω na ƒç√≠slo " + phone);
      smsCode = "0000";
      navigateTo("smsVerificationScreen");
    }
    function verifySMSCode() {
      const inputCode = document
        .getElementById("smsCodeInput")
        .value.trim();
      if (inputCode === smsCode) {
        alert("Telef√≥nne ƒç√≠slo bolo √∫spe≈°ne overen√©.");
        navigateTo("serviceSelectionScreen");
      } else {
        alert("Nespr√°vny k√≥d. Sk√∫ste to znova.");
      }
    }

    // V√ùBER SLU≈ΩBY
    function selectService(service) {
      alert("Vybrali ste slu≈æbu: " + service);
      navigateTo("weightMeasurementScreen");
    }

    // SIMUL√ÅCIA MERANIA
    function simulateWeightMeasurement() {
      const progressBar = document.getElementById("weightProgress");
      progressBar.style.width = "0%";
      setTimeout(() => {
        progressBar.style.width = "100%";
      }, 100);
      setTimeout(() => {
        const weight = (Math.random() * 5 + 1).toFixed(2);
        alert("Zmeran√° hmotnos≈•: " + weight + " kg");
        navigateTo("orderLockScreen");
      }, 2100);
    }

    // GENEROVANIE OBJEDN√ÅVKOV√âHO K√ìDU
    function generateOrderCode() {
      generatedOrderCode = Math.floor(
        100000 + Math.random() * 900000
      ).toString();
      generatedQRCode = "QR" + generatedOrderCode;
      document.getElementById("generatingCode").classList.remove("blink");
      document.getElementById("orderCodeDisplay").innerText =
        generatedOrderCode;
      document.getElementById("qrCodeDisplay").innerText =
        generatedQRCode;
      navigateTo("orderReadyScreen");
    }

    // SIMUL√ÅCIA QR SCAN
    function simulateQRScan() {
      if (!generatedOrderCode) {
        generatedOrderCode = Math.floor(
          100000 + Math.random() * 900000
        ).toString();
        generatedQRCode = "QR" + generatedOrderCode;
      }
      alert("Naskenovan√Ω objedn√°vkov√Ω k√≥d: " + generatedOrderCode);
      navigateTo("orderLockScreen");
    }

    // SIMUL√ÅCIA PLATBY
    function simulatePayment(method) {
      alert("Platba cez " + method + " bola √∫spe≈°n√°.");
    }

    // SIMUL√ÅCIA ODOSLANIA FAKT√öRY
    function sendInvoice() {
      const email = document
        .getElementById("invoiceEmailInput")
        .value.trim();
      if (!email) {
        alert("Zadajte platn√Ω email!");
        return;
      }
      alert("Fakt√∫ra bola odoslan√° na " + email);
      navigateTo("lockerOpenScreen");
    }
  </script>
</body>
</html>
